experiment_name: $EXPERIMENT_NAME
compute: azureml:$CLUSTER_NAME
display_name: train-insurance-job

code: training/                # Ruta donde estÃ¡ train_aml.py
command: >
  python train_aml.py 
  --data_path ${{inputs.data_path}} 
  --training_parameters ${{inputs.training_parameters}} 
  --model_output ${{outputs.model_output}}

environment:
  conda_file: ./training/conda_dependencies.yml
  image: mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04  # opcional

inputs:
  data_path:
    path: ./data
    type: uri_folder
  training_parameters:
    type: uri_file
    path: ./training/parameters.json

outputs:
  model_output:
    type: uri_folder
  run_metadata:
    type: uri_file
